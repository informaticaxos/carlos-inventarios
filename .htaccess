# Activar motor de reescritura
RewriteEngine On

# Evitar conflictos de negociación de contenido (recomendado para APIs)
Options -MultiViews

# Definir la base de la carpeta donde está tu proyecto
RewriteBase /carlos-inventarios/

# --- Endpoints: Producto ---
# Ruta específica con ID (ej: GET /api/producto/123, PUT /api/producto/123)
RewriteRule ^api/producto/([0-9]+)/?$ api/producto.php?id=$1 [L,QSA]
# Ruta general (ej: GET /api/producto, POST /api/producto)
RewriteRule ^api/producto/?$ api/producto.php [L,QSA]

# --- Endpoints: Cliente ---
RewriteRule ^api/cliente/([0-9]+)/?$ api/cliente.php?id=$1 [L,QSA]
RewriteRule ^api/cliente/?$ api/cliente.php [L,QSA]

# --- Endpoints: Inventario ---
RewriteRule ^api/inventario/?$ api/inventario.php [L,QSA]

# --- Seguridad básica ---
# Bloquear acceso directo a archivos sensibles
<FilesMatch "\.(htaccess|htpasswd|ini|log|sh)$">
  Require all denied
</FilesMatch>
